<template>
  <!-- Key Metrics Section -->
  <section class="dashboard-section">
    <div class="section-header">
      <h3 class="section-title">Team Metrics</h3>
      <div class="section-divider"></div>
    </div>
    <div class="metrics-row metrics-summary" id="metrics-row">
      <!-- Metric cards inserted here -->
    </div>

    <!-- 2x2 Charts Grid -->
    <div class="metrics-charts-grid" id="metrics-charts-grid">
      <div class="metric-chart-panel" data-metric="members">
        <div class="metric-chart-header">
          <span class="metric-chart-title">Active Members Over Time</span>
          <div class="metric-controls">
            <div class="metric-time-filter">
              <button class="metric-time-btn" data-days="3">3D</button>
              <button class="metric-time-btn active" data-days="7">7D</button>
              <button class="metric-time-btn" data-days="14">14D</button>
              <button class="metric-time-btn" data-days="30">30D</button>
            </div>
            <label class="metric-breakdown-toggle">
              <input type="checkbox" class="metric-breakdown-checkbox" data-metric="members" />
              <span class="toggle-label">By Member</span>
            </label>
          </div>
        </div>
        <div class="metric-chart-wrapper"><canvas id="chart-members"></canvas></div>
      </div>
      <div class="metric-chart-panel" data-metric="submissions">
        <div class="metric-chart-header">
          <span class="metric-chart-title">Submissions Over Time</span>
          <div class="metric-controls">
            <div class="metric-time-filter">
              <button class="metric-time-btn" data-days="3">3D</button>
              <button class="metric-time-btn active" data-days="7">7D</button>
              <button class="metric-time-btn" data-days="14">14D</button>
              <button class="metric-time-btn" data-days="30">30D</button>
            </div>
            <label class="metric-breakdown-toggle">
              <input type="checkbox" class="metric-breakdown-checkbox" data-metric="submissions" />
              <span class="toggle-label">By Member</span>
            </label>
          </div>
        </div>
        <div class="metric-chart-wrapper"><canvas id="chart-submissions"></canvas></div>
      </div>
      <div class="metric-chart-panel" data-metric="sentiment">
        <div class="metric-chart-header">
          <span class="metric-chart-title">Avg Sentiment Over Time</span>
          <div class="metric-controls">
            <div class="metric-time-filter">
              <button class="metric-time-btn" data-days="3">3D</button>
              <button class="metric-time-btn active" data-days="7">7D</button>
              <button class="metric-time-btn" data-days="14">14D</button>
              <button class="metric-time-btn" data-days="30">30D</button>
            </div>
            <label class="metric-breakdown-toggle">
              <input type="checkbox" class="metric-breakdown-checkbox" data-metric="sentiment" />
              <span class="toggle-label">By Member</span>
            </label>
          </div>
        </div>
        <div class="metric-chart-wrapper"><canvas id="chart-sentiment"></canvas></div>
      </div>
      <div class="metric-chart-panel" data-metric="blockers">
        <div class="metric-chart-header">
          <span class="metric-chart-title">Blockers Over Time</span>
          <div class="metric-controls">
            <div class="metric-time-filter">
              <button class="metric-time-btn" data-days="3">3D</button>
              <button class="metric-time-btn active" data-days="7">7D</button>
              <button class="metric-time-btn" data-days="14">14D</button>
              <button class="metric-time-btn" data-days="30">30D</button>
            </div>
            <label class="metric-breakdown-toggle">
              <input type="checkbox" class="metric-breakdown-checkbox" data-metric="blockers" />
              <span class="toggle-label">By Member</span>
            </label>
          </div>
        </div>
        <div class="metric-chart-wrapper"><canvas id="chart-blockers"></canvas></div>
      </div>
    </div>

    <!-- GitHub Activity Chart (full width, below 2x2 grid) -->
    <div class="github-chart-panel" id="github-chart-panel">
      <div class="metric-chart-header">
        <span class="metric-chart-title">GitHub Activity Over Time</span>
        <div class="metric-controls">
          <div class="metric-time-filter" id="github-time-filter">
            <button class="metric-time-btn" data-days="3">3D</button>
            <button class="metric-time-btn active" data-days="7">7D</button>
            <button class="metric-time-btn" data-days="14">14D</button>
            <button class="metric-time-btn" data-days="30">30D</button>
          </div>
          <label class="metric-breakdown-toggle">
            <input type="checkbox" id="github-breakdown-checkbox" />
            <span class="toggle-label">By Member</span>
          </label>
        </div>
      </div>
      <div class="github-chart-wrapper"><canvas id="chart-github"></canvas></div>
    </div>
  </section>

  <!-- Team Members Section -->
  <section class="dashboard-section">
    <div class="section-header">
      <h3 class="section-title">Team Members</h3>
      <div class="section-divider"></div>
    </div>
    <p class="list-hint">{{memberHint}}</p>
    <div class="member-grid" id="member-grid">
      <!-- Member cards inserted here -->
    </div>
  </section>

  <!-- Recent Feeds Section -->
  <section class="dashboard-section">
    <div class="section-header">
      <h3 class="section-title">Recent Standups</h3>
      <div class="section-divider"></div>
    </div>
    <div class="feeds-container">
      <div class="feeds-header">
        <div class="feeds-filter" id="team-feeds-filter">
          <button class="feeds-filter-btn" data-days="1">Today</button>
          <button class="feeds-filter-btn" data-days="3">3 Days</button>
          <button class="feeds-filter-btn active" data-days="7">7 Days</button>
          <button class="feeds-filter-btn" data-days="14">14 Days</button>
        </div>
        <span class="feeds-count" id="team-feeds-count">{{feedsCount}}</span>
      </div>
      <div class="feeds-list" id="team-feeds-list">
        <!-- Feeds inserted here -->
      </div>
    </div>
  </section>
</template>
